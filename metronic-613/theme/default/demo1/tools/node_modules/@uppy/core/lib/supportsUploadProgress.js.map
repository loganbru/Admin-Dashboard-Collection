{"version":3,"sources":["supportsUploadProgress.js"],"names":["module","exports","supportsUploadProgress","userAgent","navigator","m","exec","edgeVersion","split","major","minor","parseInt"],"mappings":"AAAA;AACA;AACA;AACAA,MAAM,CAACC,OAAP,GAAiB,SAASC,sBAAT,CAAiCC,SAAjC,EAA4C;AAC3D;AACA,MAAIA,SAAS,IAAI,IAAjB,EAAuB;AACrBA,IAAAA,SAAS,GAAG,OAAOC,SAAP,KAAqB,WAArB,GAAmCA,SAAS,CAACD,SAA7C,GAAyD,IAArE;AACD,GAJ0D,CAK3D;;;AACA,MAAI,CAACA,SAAL,EAAgB,OAAO,IAAP;AAEhB,MAAME,CAAC,GAAG,mBAAmBC,IAAnB,CAAwBH,SAAxB,CAAV;AACA,MAAI,CAACE,CAAL,EAAQ,OAAO,IAAP;AAER,MAAME,WAAW,GAAGF,CAAC,CAAC,CAAD,CAArB;;AAX2D,2BAYtCE,WAAW,CAACC,KAAZ,CAAkB,GAAlB,CAZsC;AAAA,MAYtDC,KAZsD;AAAA,MAY/CC,KAZ+C;;AAa3DD,EAAAA,KAAK,GAAGE,QAAQ,CAACF,KAAD,EAAQ,EAAR,CAAhB;AACAC,EAAAA,KAAK,GAAGC,QAAQ,CAACD,KAAD,EAAQ,EAAR,CAAhB,CAd2D,CAgB3D;AACA;AACA;;AACA,MAAID,KAAK,GAAG,EAAR,IAAeA,KAAK,KAAK,EAAV,IAAgBC,KAAK,GAAG,KAA3C,EAAmD;AACjD,WAAO,IAAP;AACD,GArB0D,CAuB3D;AACA;;;AACA,MAAID,KAAK,GAAG,EAAR,IAAeA,KAAK,KAAK,EAAV,IAAgBC,KAAK,IAAI,KAA5C,EAAoD;AAClD,WAAO,IAAP;AACD,GA3B0D,CA6B3D;;;AACA,SAAO,KAAP;AACD,CA/BD","sourcesContent":["// Edge 15.x does not fire 'progress' events on uploads.\n// See https://github.com/transloadit/uppy/issues/945\n// And https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12224510/\nmodule.exports = function supportsUploadProgress (userAgent) {\n  // Allow passing in userAgent for tests\n  if (userAgent == null) {\n    userAgent = typeof navigator !== 'undefined' ? navigator.userAgent : null\n  }\n  // Assume it works because basically everything supports progress events.\n  if (!userAgent) return true\n\n  const m = /Edge\\/(\\d+\\.\\d+)/.exec(userAgent)\n  if (!m) return true\n\n  const edgeVersion = m[1]\n  let [major, minor] = edgeVersion.split('.')\n  major = parseInt(major, 10)\n  minor = parseInt(minor, 10)\n\n  // Worked before:\n  // Edge 40.15063.0.0\n  // Microsoft EdgeHTML 15.15063\n  if (major < 15 || (major === 15 && minor < 15063)) {\n    return true\n  }\n\n  // Fixed in:\n  // Microsoft EdgeHTML 18.18218\n  if (major > 18 || (major === 18 && minor >= 18218)) {\n    return true\n  }\n\n  // other versions don't work.\n  return false\n}\n"]}